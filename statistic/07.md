# 통계학 7주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_7th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

7주차는 `3부. 데이터 분석하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_7th_TIL

### 3부. 데이터 분석하기
### 13.머신러닝 분석 방법론
### 14.모델 평가



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | ✅      | 

<!-- 여기까진 그대로 둬 주세요-->

# 13.머신러닝 분석 방법론

```
✅ 학습 목표 :
* 선형 회귀와 다항 회귀를 비교하고, 데이터를 활용하여 적절한 회귀 모델을 구축할 수 있다. 
* 로지스틱 회귀 분석의 개념과 오즈(Odds)의 의미를 설명하고, 분류 문제에 적용할 수 있다.
* k-means 알고리즘의 원리를 설명하고, 적절한 군집 개수를 결정하여 데이터를 군집화할 수 있다.
```

## 13.1. 선형 회귀분석과 Elastic Net(예측모델)
회귀분석 : 각 독립변수의 평균을 통해 종속변수를 예측       
종속변수 y의 값에 영향을 주는 독립변수 X들의 조건을 고려하여 구한 평균값.      
회귀선 : 예측치와 관측치들 간의 수직 거리(오차)의 제곱합을 최소로 하는 직선       
다중공선성 처리 => 차원축소, 변수 가공을 통해 방지 가능       
기본 충족 조건         
1. 잔차의 정규성 : 회귀모델이 데이터를 잘 설명 how : 히스토그램, Q-Qplot       
2. 잔차의 등분산성 
3. 독립성
4. 선형성

비선형적인 관계 => 더미변수화 or 독립변수, 종속변수 로그 변환      

다항회귀?      
독립변수와 종속변수의 관계가 곡선형 관계일 때 변수에 각 특성의 제곱을 추가하여 회귀선을 곡선형으로 변환하는 모델       

t-value        
: 노이즈 대비 시그널의 강도            
독립변수와 종속변수 간에 선형관계가 얼마나 강한지 나타냄          

유의도를 나타내는 p-value는 t-value와 관측치 수에 의해 결정되는 값           

전진 선택법          
: 절편만 있는 모델 => 변수 추가 시 모델 적합도가 기준치 이상 증가하지 못하면 변수선택이 종료됨            

후진 제거법        
: 모든 독립변수 포함 상태 => 변ㄴ수 제거시 모델 적합도가 기준치 이상 감소하는 경우 변수 선택 종료됨             

단계적 선택법              
: 전진선택법 + 후진선택법            
처음에는 전진선택법 => 변수 3개 이상 되면 변수 추가와 제거를 번갈아 수행       


## 13.2. 로지스틱 회귀분석 (분류모델)
선형회귀분석과 유사하지만 종속변수가 양적척도가 아닌 질적척도라는 차이가 있음          
종속변수 : 0,1 이항          
<img width="233" alt="스크린샷 2025-06-03 오후 9 29 20" src="https://github.com/user-attachments/assets/053a9c99-64b1-489e-9760-569ee5f420e1" />
오즈~~~ 
<img width="153" alt="스크린샷 2025-06-03 오후 9 31 09" src="https://github.com/user-attachments/assets/9558c9aa-432f-484b-8c34-1c2a3ab1df54" />
확률~~ 
(범주시간에 배운거다 왁!!)         



## 13.8. k-means 클러스터링(군집모델)
비지도학습          
k : 분류할 군집 수           
means : 각 군집의 중심을 뜻함          

중심정과 군집 내 관측치 간의 거리를 비용함수로 하여, 이 함수 값이 최소화하도록 중심점과 군집과을 반복적으로 재정의해 준다.         
=> k개의 중심점을 찍어서 관측치들 간의 거리를 최적화하여 군집화하는 모델        

k결정하는방법          

엘보우 기법         
: 군집 내 중심점과 관측치 간 거리 합이 급감하는 구간의 k개수를 선정하는 방법        <img width="179" alt="스크린샷 2025-06-03 오후 9 36 53" src="https://github.com/user-attachments/assets/f8dfcc13-174e-4b5e-9cfd-d241bb430792" />

실루엣 계수                    
: 군집 간의 관측치들이 다른 군집과 비교해서 얼마나 비슷한지 나타내는 수치          
동일한 군집 안에 있는 관측치들 간의 평균 거리와 가장 가까운 다른 군집과의 평균 거리와 가장 가까운 다른 군집과의 평균거리를 구해 실루엣 계수를 구한다.          
<img width="105" alt="스크린샷 2025-06-03 오후 9 49 53" src="https://github.com/user-attachments/assets/57a2f262-eb8d-4e0e-aa29-26d3fdc7bd3e" />

k-means 클러스터링에 사용한 독립변수들이 다른 군집들에 비해서 어떤 특성을 가지고 있는지를 확인하여 각 군집을 명확하게 정의해야한다. 

# 14. 모델 평가

```
✅ 학습 목표 :
* 유의확률(p-value)을 해석할 때 주의할 점을 설명할 수 있다.
* 분석가가 올바른 주관적 판단을 위한 필수 요소를 식별할 수 있다.
```

## 14.3. 회귀성능 평가지표
R^2  RMSE  MAE  MAPE  RMSLE  AIC  BIC          
<img width="222" alt="스크린샷 2025-06-03 오후 9 52 05" src="https://github.com/user-attachments/assets/45fe69c3-c892-44a9-b1ee-809a1adb03b4" />
<img width="164" alt="스크린샷 2025-06-03 오후 9 52 20" src="https://github.com/user-attachments/assets/b05e2453-bcc8-431d-8aa0-bc376097a0ed" />
<img width="120" alt="스크린샷 2025-06-03 오후 9 52 36" src="https://github.com/user-attachments/assets/f1f362fd-c6fd-4524-8672-cea17aae8a79" />
실젯값과 예측값의 표준편차를 구함         

<img width="117" alt="스크린샷 2025-06-03 오후 9 52 58" src="https://github.com/user-attachments/assets/a9d27bc1-4422-4b44-876a-4171925016be" />
실젯값과 예측값의 차이 절댓값 합을 n으로 나눈 값        

<img width="128" alt="스크린샷 2025-06-03 오후 9 53 27" src="https://github.com/user-attachments/assets/36a4dbc6-3620-44be-a50c-9cc1bbdc6d3c" />
MAE를 퍼센트로 구함        

<img width="218" alt="스크린샷 2025-06-03 오후 9 53 42" src="https://github.com/user-attachments/assets/2be52179-63f8-46cd-ba2b-37f70b46d6f8" />
RMSE와 동일한 수식에서 실젯값과 예측값에 1을 더해준 다음 로그를 취해준 평가 방식      
<img width="132" alt="스크린샷 2025-06-03 오후 9 55 34" src="https://github.com/user-attachments/assets/6d567db8-88cd-413a-883e-d16379532e91" />
<img width="159" alt="스크린샷 2025-06-03 오후 9 55 47" src="https://github.com/user-attachments/assets/630ab5ba-8b84-4577-8dab-28231698dd35" />
AIC : 값은 작을수록 좋은 모델이며 우도가 높을수록, 변수가 적을수록 값은 작아진다. 적정한 변수의 개수를 찾는데 유용함        
BIC : 변수의 개수를 줄이는 것을 중요하게 여기는 상황          


## 14.6. 유의확률의 함정
p값은 표본의 크기가 커지면 점점 0으로 수렴        
표본크기 증가 => 표본 오차 감소 => p값 감소       

p값과 함께 효과 크기를 고려한 수치 기준 및 베이지안 통계치를 추가적으로 고려하여 귀무가설 기각 여부를 결정해야한다는 의견도 있음.

## 14.7. 분석가의 주관적 판단과 스토리텔링
<img width="218" alt="스크린샷 2025-06-03 오후 10 00 23" src="https://github.com/user-attachments/assets/422eb47c-e559-4b45-b5d4-a9860617fdc5" />

데이터 수집, 가공, 분석뿐만 아니라 효과적인 결과 전달 과정까지 이뤄줘야 비로소 완성이 됨        

<br>
<br>

# 확인 문제

## **문제 1. 선형 회귀**

> **🧚 칼 피어슨의 아버지와 아들의 키 연구 결과를 바탕으로, 다음 선형 회귀식을 해석하세요.**  
> 칼 피어슨(Karl Pearson)은 아버지(X)와 아들(Y)의 키를 조사한 결과를 바탕으로 아래와 같은 선형 회귀식을 도출하였습니다. 아래의 선형 회귀식을 보고 기울기의 의미를 설명하세요. 
>  
> **ŷ = 33.73 + 0.516X**  
>   
> - **X**: 아버지의 키 (cm)  
> - **ŷ**: 아들의 예상 키 (cm)  

```
아버지의 키가 0.516 증가할 때 마다 아들 예상 키가 1씩 증가함      
```
---

## **문제 2. 로지스틱 회귀**  

> **🧚 다트비에서는 학생의 학업 성취도를 예측하기 위해 다항 로지스틱 회귀 분석을 수행하였습니다. 학업 성취도(Y)는 ‘낮음’, ‘보통’, ‘높음’ 3가지 범주로 구분되며, 독립 변수는 주당 공부 시간(Study Hours)과 출석률(Attendance Rate)입니다. 단, 기준범주는 '낮음' 입니다.**   

| 변수 | Odds Ratio Estimates | 95% Wald Confidence Limits |  
|------|----------------------|--------------------------|  
| Study Hours | **2.34** | (1.89, 2.88) |  
| Attendance Rate | **3.87** | (2.92, 5.13) |  

> 🔍 Q1. Odds Ratio Estimates(오즈비, OR)의 의미를 해석하세요.

<!--변수 Study Hours의 오즈비 값이 2.34라는 것과 Attendance Rate의 오즈비 값이 3.87이라는 것이 각각 무엇을 의미하는지 구체적으로 생각해보세요.-->

```
Study Hours의 오즈비 = 2.34
주당 공부 시간이 1시간 증가할 때, 학생이 ‘낮은 성취도’가 아닌, ‘보통 또는 높은 성취도’를 가질 가능성이 2.34배 증가함을 의미함.
즉, 공부 시간이 늘수록 낮은 성취도일 가능성은 줄고, 상대적으로 높은 성취도를 가질 가능성이 커짐.

Attendance Rate의 오즈비 = 3.87
출석률이 1퍼 증가할 때, 학생이 ‘낮음’ 성취도보다 더 높은 성취도(‘보통’ 또는 ‘높음’)를 가질 가능성이 3.87배 증가한다는 뜻.
출석률의 영향력이 공부 시간보다 더 큼 (오즈비가 더 크니까)
```

> 🔍 Q2. 95% Wald Confidence Limits의 의미를 설명하세요.
<!--각 변수의 신뢰구간에 제시된 수치가 의미하는 바를 생각해보세요.-->

```
study hours ci : (1.89, 2.88)
오즈비는 1.89이상 2.88이하
구간에 1 포함되지않음 => not 0 유의미한 변수      

attendance rate ci: (2.92, 5.13)
오즈비는 2.92이상 5.13이하
구간에 1포함되지않음 => 유의미한 변수
```

> 🔍 Q3. 이 분석을 기반으로 학업 성취도를 향상시키기 위한 전략을 제안하세요.
<!--Study Hours와 Attendance Rate 중 어느 변수가 학업 성취도에 더 큰 영향을 미치는지를 고려하여, 학업 성취도를 향상시키기 위한 효과적인 전략을 구체적으로 제시해보세요.-->

```
출석률(OR = 3.87)이 공부 시간(OR = 2.34)보다 학업 성취도에 더 강한 영향을 준다는 점을 활용
```

---


## **문제 3. k-means 클러스터링**

> **🧚 선교는 고객을 유사한 그룹으로 분류하기 위해 k-means 클러스터링을 적용했습니다. 초기에는 3개의 군집으로 설정했지만, 결과가 만족스럽지 않았습니다. 선교가 최적의 군집 수를 찾기 위해 사용할 수 있는 방법을 한 가지 이상 제시하고 설명하세요.**

```
실루엣 계수 : 군집이 비슷한 정도를 나타내는 숫자. 
```

### 🎉 수고하셨습니다.
